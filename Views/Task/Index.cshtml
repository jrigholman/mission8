@model IEnumerable<mission8.Models.TaskAppModel>

<div class="container text-center">
    <h2 class="mt-3">Stephen Covey's Time Management Matrix</h2>

    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-5 border bg-warning font-weight-bold">Urgent</div>
        <div class="col-md-5 border bg-warning font-weight-bold">Not Urgent</div>
    </div>

    <div class="row">
        <div class="col-md-1 d-flex align-items-center justify-content-center border bg-warning font-weight-bold"
             style="writing-mode: sideways-lr; text-orientation: mixed;">
            Important
        </div>

        <div class="col-md-5 border">
            <h4 class="text-danger font-weight-bold">Quadrant 1</h4>
            <ul class="list-group">
                @foreach (var task in Model.Where(t => t.Quadrant == QuadrantType.I && !t.Completed))
                {
                    <li class="list-group-item">
                        <strong>@task.TaskName</strong> - Due: @(task.DueDate?.ToShortDateString() ?? "No due date")
                        <p>Category: @(task.Category?.CategoryName ?? "Uncategorized")</p>
                        <a class="btn btn-success btn-sm" asp-controller="Task" asp-action="CompleteTask" asp-route-id="@task.TaskId">Complete</a>
                        <a class="btn btn-info btn-sm" asp-controller="Task" asp-action="Edit" asp-route-id="@task.TaskId">Edit</a>
                        <a class="btn btn-danger btn-sm" asp-controller="Task" asp-action="Delete" asp-route-id="@task.TaskId">Delete</a>
                    </li>
                }
            </ul>
            <a class="btn btn-primary mt-2" asp-controller="Task" asp-action="Create">+ Add Task</a>
        </div>

        <div class="col-md-5 border">
            <h4 class="text-primary font-weight-bold">Quadrant 2</h4>
            <ul class="list-group">
                @foreach (var task in Model.Where(t => t.Quadrant == QuadrantType.II && !t.Completed))
                {
                    <li class="list-group-item">
                        <strong>@task.TaskName</strong> - Due: @(task.DueDate?.ToShortDateString() ?? "No due date")
                        <p>Category: @(task.Category?.CategoryName ?? "Uncategorized")</p>
                        <a class="btn btn-success btn-sm" asp-controller="Task" asp-action="CompleteTask" asp-route-id="@task.TaskId">Complete</a>
                        <a class="btn btn-info btn-sm" asp-controller="Task" asp-action="Edit" asp-route-id="@task.TaskId">Edit</a>
                        <a class="btn btn-danger btn-sm" asp-controller="Task" asp-action="Delete" asp-route-id="@task.TaskId">Delete</a>
                    </li>
                }
            </ul>
            <a class="btn btn-primary mt-2" asp-controller="Task" asp-action="Create">+ Add Task</a>
        </div>
    </div>

    <div class="row">
        <div class="col-md-1 d-flex align-items-center justify-content-center border bg-warning font-weight-bold"
             style="writing-mode: sideways-lr; text-orientation: mixed;">
            Not Important
        </div>

        <div class="col-md-5 border">
            <h4 class="text-success font-weight-bold">Quadrant 3</h4>
            <ul class="list-group">
                @foreach (var task in Model.Where(t => t.Quadrant == QuadrantType.III && !t.Completed))
                {
                    <li class="list-group-item">
                        <strong>@task.TaskName</strong> - Due: @(task.DueDate?.ToShortDateString() ?? "No due date")
                        <p>Category: @(task.Category?.CategoryName ?? "Uncategorized")</p>
                        <a class="btn btn-success btn-sm" asp-controller="Task" asp-action="CompleteTask" asp-route-id="@task.TaskId">Complete</a>
                        <a class="btn btn-info btn-sm" asp-controller="Task" asp-action="Edit" asp-route-id="@task.TaskId">Edit</a>
                        <a class="btn btn-danger btn-sm" asp-controller="Task" asp-action="Delete" asp-route-id="@task.TaskId">Delete</a>
                    </li>
                }
            </ul>
            <a class="btn btn-primary mt-2" asp-controller="Task" asp-action="Create">+ Add Task</a>
        </div>

        <div class="col-md-5 border">
            <h4 class="text-secondary font-weight-bold">Quadrant 4</h4>
            <ul class="list-group">
                @foreach (var task in Model.Where(t => t.Quadrant == QuadrantType.IV && !t.Completed))
                {
                    <li class="list-group-item">
                        <strong>@task.TaskName</strong> - Due: @(task.DueDate?.ToShortDateString() ?? "No due date")
                        <p>Category: @(task.Category?.CategoryName ?? "Uncategorized")</p>
                        <a class="btn btn-success btn-sm" asp-controller="Task" asp-action="CompleteTask" asp-route-id="@task.TaskId">Complete</a>
                        <a class="btn btn-info btn-sm" asp-controller="Task" asp-action="Edit" asp-route-id="@task.TaskId">Edit</a>
                        <a class="btn btn-danger btn-sm" asp-controller="Task" asp-action="Delete" asp-route-id="@task.TaskId">Delete</a>
                    </li>
                }
            </ul>
            <a class="btn btn-primary mt-2" asp-controller="Task" asp-action="Create">+ Add Task</a>
        </div>
    </div>
</div>
